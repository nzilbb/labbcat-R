<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Search for tokens — getMatches • nzilbb.labbcat</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Search for tokens — getMatches"><meta name="description" content="Searches through transcripts for tokens matching the given pattern."><meta property="og:description" content="Searches through transcripts for tokens matching the given pattern."><meta property="og:image" content="https://nzilbb.github.io/labbcat-R/logo.png"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@labbcat"><meta name="twitter:site" content="@labbcat"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nzilbb.labbcat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5-0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/examples/search-labels-alignments-praat-script.html">Search, Annotation, and Praat Script Example</a></li>
    <li><a class="dropdown-item" href="../articles/examples/search-labels-alignments-r-script.html">Search, Annotation, and R Script Example</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nzilbb/labbcat-R/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Search for tokens</h1>
      <small class="dont-index">Source: <a href="https://github.com/nzilbb/labbcat-R/blob/HEAD/R/getMatches.R" class="external-link"><code>R/getMatches.R</code></a></small>
      <div class="d-none name"><code>getMatches.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Searches through transcripts for tokens matching the given pattern.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getMatches</span><span class="op">(</span></span>
<span>  <span class="va">labbcat.url</span>,</span>
<span>  <span class="va">pattern</span>,</span>
<span>  participant.expression <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  transcript.expression <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  main.participant <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  aligned <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  matches.per.transcript <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  words.context <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  max.matches <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overlap.threshold <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  anchor.confidence.min <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  page.length <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  no.progress <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-labbcat-url">labbcat.url<a class="anchor" aria-label="anchor" href="#arg-labbcat-url"></a></dt>
<dd><p>URL to the LaBB-CAT instance</p></dd>


<dt id="arg-pattern">pattern<a class="anchor" aria-label="anchor" href="#arg-pattern"></a></dt>
<dd><p>An object representing the pattern to search for.</p>
<p>This can be:</p><ul><li><p>A string, representing a search of the orthography layer - spaces are
taken to be word boundaries</p></li>
<li><p>A single named list, representing a one-column search - names are taken to be layer IDs</p></li>
<li><p>A list of named lists, representing a multi-column search - the outer list
represents the columns of the search matrix where each column 'immediately
follows' the previous, and the names of the inner lists are taken to be layer IDs</p></li>
<li><p>A named list (or for segment layers, a list of named lists) fully replicating
the structure of the search matrix in the LaBB-CAT browser interface, with one
element called "columns", containing a named list for each column.</p>
<p>Each element in the "columns" named list contains an element named "layers", whose
value is a named list (or a list of named lists) for patterns to match on each
layer, and optionally an element named "adj", whose value is a number representing
the maximum distance, in tokens, between this column and the next column - if "adj"
is not specified, the value defaults to 1, so tokens are contiguous.</p>
<p>Each element in the "layers" named list is named after the layer it matches, and the
value is a named list with the following possible elements:</p><ul><li><p><em>pattern</em>  A regular expression to match against the label</p></li>
<li><p><em>min</em>  An inclusive minimum numeric value for the label</p></li>
<li><p><em>max</em>  An exclusive maximum numeric value for the label</p></li>
<li><p><em>not</em>  TRUE to negate the match</p></li>
<li><p><em>anchorStart</em>  TRUE to anchor to the start of the annotation on this layer
(i.e. the matching word token will be the first at/after the start of the matching
annotation on this layer)</p></li>
<li><p><em>anchorEnd</em>  TRUE to anchor to the end of the annotation on this layer
(i.e. the matching word token will be the last before/at the end of the matching
annotation on this layer)</p></li>
<li><p><em>target</em>  TRUE to make this layer the target of the search; the
results will contain one row for each match on the target layer</p></li>
</ul></li>
</ul><p>Examples of valid pattern objects include:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="do">## the word 'the' followed immediately by a word starting with an orthographic vowel</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="st">"the [aeiou].*"</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="do">## a word spelt with "k" but pronounced "n" word initially</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">orthography =</span> <span class="st">"k.*"</span>, <span class="at">phonemes =</span> <span class="st">"n.*"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="do">## the word 'the' followed immediately by a word starting with a phonemic vowel</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">orthography =</span> <span class="st">"the"</span>),</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">phonemes =</span> <span class="st">"[cCEFHiIPqQuUV0123456789~#</span><span class="sc">\\</span><span class="st">$@].*"</span>))</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="do">## the word 'the' followed immediately or with one intervening word by</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="do">## a hapax legomenon (word with a frequency of 1) that doesn't start with a vowel</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">columns =</span> <span class="fu">list</span>(</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">layers =</span> <span class="fu">list</span>(</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a>           <span class="at">orthography =</span> <span class="fu">list</span>(<span class="at">pattern =</span> <span class="st">"the"</span>)),</span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a>         <span class="at">adj =</span> <span class="dv">2</span>),</span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">layers =</span> <span class="fu">list</span>(</span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a>           <span class="at">phonemes =</span> <span class="fu">list</span>(<span class="at">not =</span> <span class="cn">TRUE</span>, <span class="at">pattern =</span> <span class="st">"[cCEFHiIPqQuUV0123456789~#</span><span class="sc">\\</span><span class="st">$@].*"</span>),</span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a>           <span class="at">frequency =</span> <span class="fu">list</span>(<span class="at">max =</span> <span class="st">"2"</span>)))))</span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a><span class="do">## words that contain the /I/ phone followed by the /l/ phone</span></span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a><span class="do">## (multiple patterns per word currently only works for segment layers)</span></span>
<span id="cb1-24"><a href="#cb1-24" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">segment =</span> <span class="fu">list</span>(<span class="st">"I"</span>, <span class="st">"l"</span>))</span>
<span id="cb1-25"><a href="#cb1-25" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" tabindex="-1"></a><span class="do">## words that contain the /I/ phone followed by the /l/ phone, targeting the /l/ segment</span></span>
<span id="cb1-27"><a href="#cb1-27" tabindex="-1"></a><span class="do">## (multiple patterns per word currently only works for segment layers)</span></span>
<span id="cb1-28"><a href="#cb1-28" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">segment =</span> <span class="fu">list</span>(<span class="st">"I"</span>, <span class="fu">list</span>(<span class="at">pattern=</span><span class="st">"l"</span>, <span class="at">target=</span>T)))</span>
<span id="cb1-29"><a href="#cb1-29" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" tabindex="-1"></a><span class="do">## words where the spelling starts with "k", but the first segment is /n/</span></span>
<span id="cb1-31"><a href="#cb1-31" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb1-32"><a href="#cb1-32" tabindex="-1"></a>  <span class="at">orthography =</span> <span class="st">"k.*"</span>,</span>
<span id="cb1-33"><a href="#cb1-33" tabindex="-1"></a>  <span class="at">segment =</span> <span class="fu">list</span>(<span class="at">pattern =</span> <span class="st">"n"</span>, <span class="at">anchorStart =</span> T)</span>
<span id="cb1-34"><a href="#cb1-34" tabindex="-1"></a></span></code></pre><p></p></div></dd>


<dt id="arg-participant-expression">participant.expression<a class="anchor" aria-label="anchor" href="#arg-participant-expression"></a></dt>
<dd><p>An optional participant query expression for identifying
participants to search the utterances of. This should be the output of
<a href="expressionFromIds.html">expressionFromIds</a>, <a href="expressionFromAttributeValue.html">expressionFromAttributeValue</a>,
or <a href="expressionFromAttributeValues.html">expressionFromAttributeValues</a>, or more than one concatentated together
and delimited by ' &amp;&amp; '. If not supplied, utterances of all participants will be searched.</p></dd>


<dt id="arg-transcript-expression">transcript.expression<a class="anchor" aria-label="anchor" href="#arg-transcript-expression"></a></dt>
<dd><p>An optional transript query expression for identifying
transcripts to search in. This should be the output of <a href="expressionFromIds.html">expressionFromIds</a>,
<a href="expressionFromTranscriptTypes.html">expressionFromTranscriptTypes</a>, <a href="expressionFromAttributeValue.html">expressionFromAttributeValue</a>,
or <a href="expressionFromAttributeValues.html">expressionFromAttributeValues</a>, or more than one concatentated together
and delimited by ' &amp;&amp; '. If not supplied, all transcripts will be searched.</p></dd>


<dt id="arg-main-participant">main.participant<a class="anchor" aria-label="anchor" href="#arg-main-participant"></a></dt>
<dd><p>TRUE to search only main-participant utterances, FALSE to
search all utterances.</p></dd>


<dt id="arg-aligned">aligned<a class="anchor" aria-label="anchor" href="#arg-aligned"></a></dt>
<dd><p>This parameter is deprecated and will be removed in future versions;
please use <code>anchor.confidence.min = 50</code> instead.</p></dd>


<dt id="arg-matches-per-transcript">matches.per.transcript<a class="anchor" aria-label="anchor" href="#arg-matches-per-transcript"></a></dt>
<dd><p>Optional maximum number of matches per transcript to
return. NULL means all matches.</p></dd>


<dt id="arg-words-context">words.context<a class="anchor" aria-label="anchor" href="#arg-words-context"></a></dt>
<dd><p>Number of words context to include in the 'Before.Match' and
'After.Match' columns in the results.</p></dd>


<dt id="arg-max-matches">max.matches<a class="anchor" aria-label="anchor" href="#arg-max-matches"></a></dt>
<dd><p>The maximum number of matches to return, or null to return all.</p></dd>


<dt id="arg-overlap-threshold">overlap.threshold<a class="anchor" aria-label="anchor" href="#arg-overlap-threshold"></a></dt>
<dd><p>The percentage overlap with other utterances before
simultaneous speech is excluded, or null to include overlapping speech.</p></dd>


<dt id="arg-anchor-confidence-min">anchor.confidence.min<a class="anchor" aria-label="anchor" href="#arg-anchor-confidence-min"></a></dt>
<dd><p>The minimum confidence for alignments, e.g.</p><ul><li><p><em>0</em> - return all alignments, regardless of confidence;</p></li>
<li><p><em>50</em> - return only alignments that have been at least automatically aligned;</p></li>
<li><p><em>100</em> - return only manually-set alignments.</p></li>
</ul></dd>


<dt id="arg-page-length">page.length<a class="anchor" aria-label="anchor" href="#arg-page-length"></a></dt>
<dd><p>In order to prevent timeouts when there are a large number of
matches or the network connection is slow, rather than retrieving matches in one
big request, they are retrieved using many smaller requests. This parameter
controls the number of results retrieved per request.</p></dd>


<dt id="arg-no-progress">no.progress<a class="anchor" aria-label="anchor" href="#arg-no-progress"></a></dt>
<dd><p>TRUE to suppress visual progress bar. Otherwise, progress bar will be
shown when interactive().</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame identifying matches, containing the following columns:</p><ul><li><p><em>Title</em> The title of the LaBB-CAT instance</p></li>
<li><p><em>Version</em> The current version of the LaBB-CAT instance</p></li>
<li><p><em>SearchName</em> A name based on the pattern – the same for all rows</p></li>
<li><p><em>MatchId</em> A unique ID for the matching target token</p></li>
<li><p><em>Transcript</em> Name of the transcript in which the match was found</p></li>
<li><p><em>Participant</em> Name of the speaker</p></li>
<li><p><em>Corpus</em> The corpus of the transcript</p></li>
<li><p><em>Line</em> The start offset of the utterance/line</p></li>
<li><p><em>LineEnd</em> The end offset of the utterance/line</p></li>
<li><p><em>Before.Match</em> Transcript text immediately before the match</p></li>
<li><p><em>Text</em> Transcript text of the match</p></li>
<li><p><em>After.Match</em> Transcript text immediately after the match</p></li>
<li><p><em>Number</em> Row number</p></li>
<li><p><em>URL</em> URL of the first matching word token</p></li>
<li><p><em>Target.word</em> Text of the target word token</p></li>
<li><p><em>Target.word.start</em> Start offset of the target word token</p></li>
<li><p><em>Target.word.end</em> End offset of the target word token</p></li>
<li><p><em>Target.segment</em> Label of the target segment (only present if the segment
layer is included in the pattern)</p></li>
<li><p><em>Target.segment.start</em> Start offset of the target segment (only present if the
segment layer is included in the pattern)</p></li>
<li><p><em>Target.segment.end</em> End offset of the target segment (only present if the
segment layer is included in the pattern)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><a href="getFragments.html">getFragments</a></p></li>
<li><p><a href="getSoundFragments.html">getSoundFragments</a></p></li>
<li><p><a href="getMatchLabels.html">getMatchLabels</a></p></li>
<li><p><a href="getMatchAlignments.html">getMatchAlignments</a></p></li>
<li><p><a href="processWithPraat.html">processWithPraat</a></p></li>
<li><p><a href="getParticipantIds.html">getParticipantIds</a></p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">## the word 'the' followed immediately by a word starting with an orthographic vowel</span></span></span>
<span class="r-in"><span><span class="va">theThenOrthVowel</span> <span class="op">&lt;-</span> <span class="fu">getMatches</span><span class="op">(</span><span class="va">labbcat.url</span>, <span class="st">"the [aeiou]"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## a word spelt with "k" but pronounced "n" word initially</span></span></span>
<span class="r-in"><span><span class="va">knWords</span> <span class="op">&lt;-</span> <span class="fu">getMatches</span><span class="op">(</span><span class="va">labbcat.url</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>orthography <span class="op">=</span> <span class="st">"k.*"</span>, phonemes <span class="op">=</span> <span class="st">"n.*"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## the word 'the' followed immediately by a word starting with an phonemic vowel</span></span></span>
<span class="r-in"><span><span class="va">theThenPhonVowel</span> <span class="op">&lt;-</span> <span class="fu">getMatches</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">labbcat.url</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>orthography <span class="op">=</span> <span class="st">"the"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>phonemes <span class="op">=</span> <span class="st">"[cCEFHiIPqQuUV0123456789~#\\$@].*"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## the word 'the' followed immediately or with one intervening word by</span></span></span>
<span class="r-in"><span><span class="co">## a hapax legomenon (word with a frequency of 1) that doesn't start with a vowel</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">getMatches</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">labbcat.url</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>layers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>           orthography <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"the"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>         adj <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>layers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>           phonemes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>not<span class="op">=</span><span class="cn">TRUE</span>, pattern <span class="op">=</span> <span class="st">"[cCEFHiIPqQuUV0123456789~#\\$@].*"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>           frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>max <span class="op">=</span> <span class="st">"2"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  overlap.threshold <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## all tokens of the KIT vowel, from the interview or monologue</span></span></span>
<span class="r-in"><span><span class="co">## of the participants AP511_MikeThorpe and BR2044_OllyOhlson</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">getMatches</span><span class="op">(</span><span class="va">labbcat.url</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>segment<span class="op">=</span><span class="st">"I"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  participant.expression <span class="op">=</span> <span class="fu"><a href="expressionFromIds.html">expressionFromIds</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AP511_MikeThorpe"</span>,<span class="st">"BR2044_OllyOhlson"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  transcript.expression <span class="op">=</span> <span class="fu"><a href="expressionFromTranscriptTypes.html">expressionFromTranscriptTypes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"interview"</span>,<span class="st">"monologue"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## all tokens of the KIT vowel for male speakers who speak English</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">getMatches</span><span class="op">(</span><span class="va">labbcat.url</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>segment<span class="op">=</span><span class="st">"I"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  participant.expression <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="expressionFromAttributeValue.html">expressionFromAttributeValue</a></span><span class="op">(</span><span class="st">"participant_gender"</span>, <span class="st">"M"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="expressionFromAttributeValues.html">expressionFromAttributeValues</a></span><span class="op">(</span><span class="st">"participant_languages_spoken"</span>, <span class="st">"en"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    sep<span class="op">=</span><span class="st">" &amp;&amp; "</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## results$Text is the text that matched</span></span></span>
<span class="r-in"><span><span class="co">## results$MatchId can be used to access results using other functions</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><style type="text/css">
  footer img {
      vertical-align: middle;
      height: 40px;
      display: inline-block;
  }
</style><small><a rel="license" href="http://creativecommons.org/licenses/by-sa/2.0/" class="external-link"><img alt="CC-BY-SA Creative Commons Licence " src="https://nzilbb.github.io/labbcat-R/cc-by-sa.svg" title="This work is licensed under a Creative Commons Attribution-ShareAlike 2.0 Generic License"></a><a rel="author" href="https://www.canterbury.ac.nz/nzilbb/" class="external-link"><img src="https://nzilbb.github.io/labbcat-R/nzilbb.svg" alt="Te Kāhui Roro Reo | The New Zealand Institute of Language, Brain and Behaviour" title="🄯 2021 NZILBB"></a></small>

    </footer></div>





  </body></html>

